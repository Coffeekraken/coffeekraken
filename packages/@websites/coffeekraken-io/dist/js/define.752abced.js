define(["exports","./index.d9d97e89"],function(m,i){"use strict";function d(n,t){var e;return(e=n.includes)!=null&&e.call(n,t)?n.split(t).map(o=>o.trim()):[n]}function v(s){var t=i.__getStyleProperty(s,"transition-property"),e=i.__getStyleProperty(s,"transition-duration")||0,o=i.__getStyleProperty(s,"transition-timing-function"),s=i.__getStyleProperty(s,"transition-delay");const r={property:d(t,","),duration:d(e,",").map(a=>i.__convertTime(a,"ms")),delay:d(s,",").map(a=>i.__convertTime(a,"ms")),timingFunction:d(o,",")};let p=0,h=0;const l=[0].concat(r.delay);return[0].concat(r.duration).forEach(a=>{a+l[h]>p&&(p=a+l[h]),h++}),r.totalDuration=p,r}class _ extends i.SInterface{static get _definition(){return{position:{description:'Specify the side where to display the panel. Can be "top","left","bottom" or "right"',type:"String",values:["top","left","bottom","right","modal"],default:"modal",physical:!0},active:{description:"Specify the panel initial state",type:"Boolean",default:!1,physical:!0},backdrop:{description:'Specify if you want an "backdrop" between the panel and your content',type:"Boolean",default:!1},triggerer:{description:"Specify a css selector that targets the elements in your UI you want to open the panel on click",type:"String"},closeOn:{description:'Specify which "action(s)" close the panel. Valid values are "click" or/and "escape" or/and "event:%eventName',type:{type:"Array<String>",splitChars:[","]},values:["click","escape"],default:["click","escape"]}}}}var f=globalThis&&globalThis.__awaiter||function(n,t,e,o){return new(e=e||Promise)(function(s,r){function p(a){try{l(o.next(a))}catch(c){r(c)}}function h(a){try{l(o.throw(a))}catch(c){r(c)}}function l(a){var c;a.done?s(a.value):((c=a.value)instanceof e?c:new e(function(g){g(c)})).then(p,h)}l((o=o.apply(n,t||[])).next())})};class u extends i.SLitComponent{constructor(){super(i.__deepMerge({name:"s-panel",interface:_})),this.id&&document.querySelectorAll("s-panel#"+this.id).forEach(e=>e!==this&&e.remove())}static get properties(){return i.SLitComponent.createProperties({},_)}static get styles(){return i.r`
            ${i.o(`.s-panel{display:block;position:fixed;top:0;left:0;width:100%;height:100%;z-index:99999;pointer-events:none}.s-panel[active]{pointer-events:all}.s-panel:not([mounted])>*{display:none}.s-pane__root{display:block;position:fixed;top:0;left:0}.s-panel__backdrop{position:absolute;top:0;left:0;z-index:0;width:100%;height:100%}.s-panel__container{display:none;position:absolute;z-index:1;overflow:auto}.s-panel__container::-webkit-scrollbar{width:2px;height:2px}.s-panel__container::-webkit-scrollbar-track{background-color:hsla(calc(var(--s-theme-color-accent-h, 0) + var(--s-theme-color-accent-spin ,0)),calc((var(--s-theme-color-accent-s, 0)) * 1%),calc((var(--s-theme-color-accent-l, 0)) * 1%),.1)}.s-panel__container::-webkit-scrollbar-thumb{background-color:hsla(calc(var(--s-theme-color-accent-h, 0) + var(--s-theme-color-accent-spin ,0)),calc((var(--s-theme-color-accent-s, 0)) * 1%),calc((var(--s-theme-color-accent-l, 0)) * 1%),var(--s-theme-color-accent-a, 1))}@media screen and (max-width: 639px){.s-panel__container{width:90vw;min-width:auto;max-width:auto}}[mounted] .s-panel__container{display:block}[position=left] .s-panel__container{left:0;top:0;height:100%;min-width:40px;max-width:90vw;transform:translate(-100%)}[position=top] .s-panel__container{left:0;top:0;width:100%;min-height:40px;max-height:calc(90 * var(--vh,1vh));transform:translateY(-100%)}[position=right] .s-panel__container{right:0;top:0;height:100%;min-width:40px;max-width:90vw;transform:translate(100%)}[position=bottom] .s-panel__container{left:0;bottom:0;width:100%;min-height:40px;max-height:calc(90 * var(--vh,1vh));transform:translateY(100%)}[position=modal] .s-panel__container{max-width:90vw;max-height:calc(90 * var(--vh,1vh));top:50%;left:50%;transform:translate(-50%,-40%)}[active][position=modal] .s-panel__container{transform:translate(-50%,-50%)}[active] .s-panel__container{transform:translate(0) translateY(0)}.s-panel__root{position:absolute;top:0;left:0;width:100%;height:100%}.s-panel[lnf=default] .s-panel__backdrop{background:hsla(calc(var(--s-theme-color-main-h, 0) + var(--s-theme-color-main-surface-spin ,0)),calc((var(--s-theme-color-main-s, 0) + var(--s-theme-color-main-surface-saturation-offset, 0)) * 1%),calc((var(--s-theme-color-main-l, 0) + var(--s-theme-color-main-surface-lightness-offset, 0)) * 1%),.6);transition:var(--s-theme-ui-panel-transition, 0);opacity:0}.s-panel[lnf=default] .s-panel__container{transition:var(--s-theme-ui-panel-transition, 0);background:hsla(calc(var(--s-theme-color-main-h, 0) + var(--s-theme-color-main-background-spin ,0)),calc((var(--s-theme-color-main-s, 0) + var(--s-theme-color-main-background-saturation-offset, 0)) * 1%),calc((var(--s-theme-color-main-l, 0) + var(--s-theme-color-main-background-lightness-offset, 0)) * 1%),var(--s-theme-color-main-background-a, 1));box-shadow:var(--s-theme-depth-5, 0);border-radius:calc(calc(var(--s-theme-border-radius-default, 5px) * var(--s-scale, 1)) * 1);opacity:0}.s-panel[lnf=default][active] .s-panel__container,.s-panel[lnf=default][active] .s-panel__backdrop{opacity:1}
`)}
        `}mount(){return f(this,void 0,void 0,function*(){this.props.active&&this.constructor._activePanels.push(this);var t=this.querySelector("template");t&&(this._template=t.content)})}isTopPanel(){return this.constructor._activePanels.indexOf(this)===this.constructor._activePanels.length-1}updated(t){t.forEach((e,o)=>{o==="active"&&(this.props.active?this.open():this.close())})}firstUpdated(){if(this._$container=this.querySelector("."+this.componentUtils.uniqueClassName("__container")),this._$backdrop=this.querySelector("."+this.componentUtils.uniqueClassName("__backdrop")),this._containerTransitionProps=v(this._$container),this._$backdrop&&(this._backdropTransitionProps=v(this._$backdrop)),this.props.closeOn.forEach(t=>{t==="click"?this.addEventListener("click",e=>{!this._$container.contains(e.target)&&this.isTopPanel()&&this.close()}):t==="escape"?i.__hotkey("escape").on("press",()=>{this.isTopPanel()&&this.close()}):t.match(/^event\:/)&&(t=t.split(":").pop(),this.addEventListener(t,e=>{this.close()}))}),this.id){if(1<document.querySelectorAll("s-panel#"+this.id).length)throw new Error(`[s-panel] Be careful. You have multiple panels with the same "${this.id}" id...`);i.__querySelectorLive(`[href="#${this.id}"]`,t=>{t.addEventListener("click",e=>{e.preventDefault(),this.open()})},{}),i.__querySelectorLive(`[s-panel-open="${this.id}"]`,t=>{t.addEventListener("click",e=>{e.preventDefault(),this.open()})},{}),i.__querySelectorLive(`[s-panel-close="${this.id}"]`,t=>{t.addEventListener("click",e=>{e.preventDefault(),this.close()})},{})}this.props.triggerer&&i.__querySelectorLive(this.props.triggerer,t=>{t.addEventListener("click",e=>{this.open()})})}open(){this.props.active||(this._$ghost||(this._$ghost=document.createElement("div"),this._$ghost.setAttribute("s-panel-ghost","true"),this.parentNode.insertBefore(this._$ghost,this)),this.parentNode!==document.body&&document.body.appendChild(this),this.constructor._activePanels.includes(this)||this.constructor._activePanels.push(this),setTimeout(()=>{this.props.active=!0,this.requestUpdate(),this.componentUtils.dispatchEvent("open")}))}activate(){return this.open()}close(){if(this.props.active){var t=this.constructor._activePanels.indexOf(this);t!==-1&&delete this.constructor._activePanels[t],this.props.active=!1,this.requestUpdate(),this.componentUtils.dispatchEvent("close");let e=0;this._containerTransitionProps.totalDuration>e&&(e=this._containerTransitionProps.totalDuration),((t=this._backdropTransitionProps)==null?void 0:t.totalDuration)>e&&(e=(t=this._backdropTransitionProps)==null?void 0:t.totalDuration),setTimeout(()=>{this._$ghost&&this._$ghost.parentNode.insertBefore(this,this._$ghost)},e)}}unactivate(){return this.close()}render(){var t;return i.$`
            <div
                class="${this.componentUtils.className("__root")} ${this.componentUtils.className("--"+this.props.position)}"
            >
                ${this.props.backdrop?i.$`
                          <div
                              class="${this.componentUtils.className("__backdrop")}"
                          ></div>
                      `:""}
                <div class="${this.componentUtils.className("__container")}">
                    ${(t=this._template)!=null?t:""}
                </div>
            </div>
        `}}u._activePanels=[],m.default=function(n={},t="s-panel"){u.define(u,n,t)},Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});

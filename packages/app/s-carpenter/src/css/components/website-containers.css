[s-container] {
    --s-container-transition: all 0.3s ease-in-out;

    position: relative;
    transition: var(--s-container-transition) !important;

    &.drag-over {
        background: s.color(accent, --alpha 0.1);
    }

    > * {
        transition: var(--s-container-transition) !important;
        margin-bottom: 0;
    }

    .s-carpenter-app_website-add-component {
        position: relative;
        display: flex;
        z-index: 100;
        align-items: center;
        justify-content: center;
        height: 200px;
        transition: var(--s-container-transition);

        > * {
            opacity: 0;
            pointer-events: none;
        }

        &:hover,
        &:focus,
        &:focus-within {
            z-index: 101;

            > * {
                opacity: 1;
                pointer-events: all;
            }
        }
    }

    > * > template[s-node] + template {
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;

        &:after {
            content: 'Add components/sections here...';
            display: flex;
            align-items: center;
            justify-content: center;
            color: s.color(main, --alpha 0.1);
            position: absolute;
            top: calc(100% + 50px);
            left: 50%;
            width: calc(100% - 40px);
            height: 0;
            max-width: s.container.width();
            transform: translateX(-50%);
            border: 0px dashed s.color(main, border);
            background: s.color(main, --alpha 0.1);
            overflow: hidden;
            transition: var(--s-container-transition), color 0.1s ease-out;
            @s.font.size (40);

            [s-container] & {
                width: 100%;
            }
        }
    }

    .s-carpenter-app_add-component-container {
        background-color: transparent !important;
        @s.border.radius (30);
        @s.depth (100);
        @s.transition;
    }

    .s-carpenter-app-add-component {
        @s.ui.filtrableInput();
        min-width: 350px;

        ._group {
            @s.ui.inputcontainer ($lnf: group);

            ._icon {
                display: flex;
                padding: s.padding(30);
                justify-content: center;
                align-items: center;
                aspect-ratio: 1;
                background: s.color(complementary, --lighten 20);
                @s.border.radius;

                i {
                    color: s.color(complementary, foreground);
                }
            }
        }

        ._item {
            font-weight: bold;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: s.margin(30);

            ._preview {
                width: 150px;
                aspect-ratio: 4/3;
                display: flex;
                align-items: center;
                justify-content: center;

                img {
                    display: block;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }

                svg {
                    width: 60px !important;
                    height: 60px !important;
                    opacity: 0.3;

                    [fill] {
                        fill: s.color(complementary);
                    }
                    [stroke] {
                        stroke: s.color(complementary);
                    }
                }
            }

            ._icon {
                padding-block: s.padding(10);

                svg {
                    width: 60px !important;
                    height: 60px !important;
                    opacity: 0.3;

                    [fill] {
                        fill: s.color(complementary);
                    }
                    [stroke] {
                        stroke: s.color(complementary);
                    }
                }
            }
        }

        ._metas {
        }

        ._title {
            margin-block-end: s.margin(10);
        }

        ._description {
            font-size: s.font.size(20);
            opacity: 0.5;
        }

        ._type {
            font-weight: initial;
        }
    }
}

body.s-carpenter--preview .s-carpenter-app_website-add-component,
body:not(.s-carpenter--insert) .s-carpenter-app_website-add-component {
    height: 0 !important;
    display: none !important;
}

.s-carpenter--insert:not(.s-carpenter--preview) [s-container] {
    gap: 0;

    > *:not(.s-carpenter-app_website-add-component) {
        margin-bottom: 200px !important;
    }

    .s-carpenter-app_website-add-component {
        margin-top: -200px;
    }

    &:has(> .s-carpenter-app_website-add-component:first-child:last-child) {
        &:after {
            content: 'Add components/sections here...';
            display: flex;
            align-items: center;
            justify-content: center;
            color: s.color(main, text, --alpha 0.4);
            position: absolute;
            top: 50px;
            left: 50%;
            width: calc(100% - 40px);
            height: 100px;
            max-width: s.container.width();
            transform: translateX(-50%);
            border: 1px dashed s.color(main, border);
            background: s.color(main, --alpha 0.1);
            @s.font.size (40);
            @s.transition;

            [s-container] & {
                width: 100%;
            }
        }

        .s-carpenter-app_website-add-component {
            margin-top: 0;
        }
    }

    > * > template[s-node] + template {
        &:after {
            color: s.color(main, text, --alpha 0.4);
            height: 100px;
            border: 1px dashed s.color(main, border);
            transition: var(--s-container-transition), color 0.1s ease-out 0.2s;
        }
    }
}

.s-carpenter--move [s-container='root'] {
    transform: scale(0.5);
}
.s-carpenter--move .s-carpenter-app_toolbar {
    opacity: 0 !important;
    pointer-events: none !important;
}

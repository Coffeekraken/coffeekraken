!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("riot"),require("uuid"),require("@coffeekraken/s-promise"),require("@coffeekraken/s-component-utils"),require("@coffeekraken/s-interface")):"function"==typeof define&&define.amd?define(["riot","uuid","@coffeekraken/s-promise","@coffeekraken/s-component-utils","@coffeekraken/s-interface"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).index=t(e.riot,e.uuid,e.__SPromise,e.__SComponentUtils,e.__SInterface)}(this,(function(e,t,o,r,n){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var i=s(e),l=c(o),u=c(r),a=c(n);function f(){return t.v4()}let d;const b={};class h extends a.default{}h.definition={};const m={css:'s-handlebars,[is="s-handlebars"]{ }',exports:{onBeforeMount(){this.component=new u.default(this.root,this.props,{interface:h})}},template:null,name:"s-handlebars"};return i.register("s-handlebars",m),function(e,t=null,o={}){const r=`${e} - ${f()}`;o=Object.assign({},{rootNode:document,once:!0},o),b[e]?b[e].push({id:r,selector:e,cb:t,settings:o}):b[e]=[{id:r,selector:e,cb:t,settings:o}],new l.default((({resolve:t,reject:r,emit:n})=>{function c(e,t){const o=b[t];o&&o.forEach((t=>{if(t.settings.once){if(e._querySelectorLive||(e._querySelectorLive={}),e._querySelectorLive[t.id])return;e._querySelectorLive[t.id]=!0}n("node",e),t.cb&&t.cb(e,(()=>{delete b[t.selector]}))}))}d||(d=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes&&[].forEach.call(e.addedNodes,(e=>{const t=Object.keys(b);t.forEach((t=>{(function(e,t){if("#comment"==e.nodeName||"#text"==e.nodeName)return!1;const o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)})(e,t)&&c(e,t)})),e.querySelectorAll&&t.forEach((t=>{const o=e.querySelectorAll(t);[].forEach.call(o,(e=>{c(e,t)}))}))}))}))})),d.observe(o.rootNode,{childList:!0,subtree:!0})),[].forEach.call(o.rootNode.querySelectorAll(e),(t=>{c(t,e)}))}))}("s-handlebars",(e=>{const t=e.id||"s-handlebars-"+f();e.setAttribute("id",t),i.mount("#"+t)})),m.mount=()=>{i.mount("s-handlebars")},m}));

{"version":3,"sources":["summaryListPopup.js"],"names":["__deepMerge","require","__SPopup","__SSummaryList","module","exports","summaryListPopup","settings","title","description","items","$popupBox","$summaryListBox","append","promise","on","remove","detach","$popup","$list","then","catch","attach","parent"],"mappings":";;AAAA,IAAMA,WAAW,GAAGC,OAAO,CAAC,wBAAD,CAA3B;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAME,cAAc,GAAGF,OAAO,CAAC,gBAAD,CAA9B;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BAG,MAAM,CAACC,OAAP,GAAiB,SAASC,gBAAT,CAA0BC,QAA1B,EAAyC;AAAA,MAAfA,QAAe;AAAfA,IAAAA,QAAe,GAAJ,EAAI;AAAA;;AACxDA,EAAAA,QAAQ,GAAGP,WAAW,CACpB;AACEQ,IAAAA,KAAK,EAAE,IADT;AAEEC,IAAAA,WAAW,EAAE,IAFf;AAGEC,IAAAA,KAAK,EAAE;AAHT,GADoB,EAMpBH,QANoB,CAAtB;AASA,MAAMI,SAAS,GAAG,IAAIT,QAAJ,CAAa;AAC7BM,IAAAA,KAAK,EAAED,QAAQ,CAACC,KADa;AAE7BC,IAAAA,WAAW,EAAEF,QAAQ,CAACE;AAFO,GAAb,CAAlB;AAIA,MAAMG,eAAe,GAAG,IAAIT,cAAJ,CAAmBI,QAAQ,CAACG,KAA5B,EAAmC,EAAnC,CAAxB;AACAC,EAAAA,SAAS,CAACE,MAAV,CAAiBD,eAAjB;AACAA,EAAAA,eAAe,CAACE,OAAhB,CAAwBC,EAAxB,CAA2B,gBAA3B,EAA6C,MAAM;AACjDJ,IAAAA,SAAS,CAACK,MAAV,CAAiBJ,eAAjB;AACAD,IAAAA,SAAS,CAACM,MAAV;AACD,GAHD;AAKA,SAAO;AACLC,IAAAA,MAAM,EAAEP,SADH;AAELQ,IAAAA,KAAK,EAAEP,eAFF;AAGLG,IAAAA,EAAE,EAAEH,eAAe,CAACG,EAHf;AAILK,IAAAA,IAAI,EAAER,eAAe,CAACQ,IAJjB;AAKLC,IAAAA,KAAK,EAAET,eAAe,CAACS,KALlB;AAMLC,IAAAA,MAAM,EAAGC,MAAD,IAAY;AAClBA,MAAAA,MAAM,CAACV,MAAP,CAAcF,SAAd;AACD;AARI,GAAP;AAUD,CA/BD","sourcesContent":["const __deepMerge = require('../../object/deepMerge');\nconst __SPopup = require('../popup/SPopup');\nconst __SSummaryList = require('./SSummaryList');\n\n/**\n * @name                      summaryListPopup\n * @namespace           node.blessed.list\n * @type                      Function\n *\n * This function init and display a summary list popup and return an SPromise instance on which you can subscribe for response, etc...\n *\n * @param         {Object}          [settings = {}]           A simple settings object to configure your summary list popup\n * @return        {Object}                                    An object on which you can find these properties:\n * - popup: An SCenteredPopup instance\n * - list: The SSummaryList instance\n * - on: The \"on\" function mapped from the list.promise SPromise instance\n * - then: The \"then\" function mapped from the list.promise SPromise instance\n * - catch: The \"catch\" function mapped from the list.promise SPromise instance\n * - attachTo: A simple function that you can use to attach the popup to a blessed element\n *\n * @example         js\n * const summaryListPopup = require('@coffeekraken/sugar/node/blessed/list/summaryListPopup');\n * summaryListPopup({\n *    title: 'Hello',\n *    description: 'World',\n *    items: [{\n *       id: 'port',\n *       text: 'Server port',\n *       default: 8080\n *    }]\n * }).attachTo(myCoolBlessedParent);\n *\n * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = function summaryListPopup(settings = {}) {\n  settings = __deepMerge(\n    {\n      title: null,\n      description: null,\n      items: []\n    },\n    settings\n  );\n\n  const $popupBox = new __SPopup({\n    title: settings.title,\n    description: settings.description\n  });\n  const $summaryListBox = new __SSummaryList(settings.items, {});\n  $popupBox.append($summaryListBox);\n  $summaryListBox.promise.on('finally,cancel', () => {\n    $popupBox.remove($summaryListBox);\n    $popupBox.detach();\n  });\n\n  return {\n    $popup: $popupBox,\n    $list: $summaryListBox,\n    on: $summaryListBox.on,\n    then: $summaryListBox.then,\n    catch: $summaryListBox.catch,\n    attach: (parent) => {\n      parent.append($popupBox);\n    }\n  };\n};\n"]}
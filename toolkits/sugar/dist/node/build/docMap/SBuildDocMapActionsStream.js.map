{"version":3,"sources":["SBuildDocMapActionsStream.js"],"names":["__SActionsStream","require","__deepMerge","__SFsFilesResolverStreamAction","__SDocMapStreamAction","__SFsOutputStreamAction","module","exports","settings","filesResolver","docMap","fsOutput","name","actions","ignoreFolders","out","beforeActions","streamObj","outputStack","output","data"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,6BAAD,CAAhC;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,wBAAD,CAA3B;;AACA,MAAME,8BAA8B,GAAGF,OAAO,CAAC,mDAAD,CAA9C;;AACA,MAAMG,qBAAqB,GAAGH,OAAO,CAAC,gCAAD,CAArC;;AACA,MAAMI,uBAAuB,GAAGJ,OAAO,CAAC,4CAAD,CAAvC;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBAK,MAAM,CAACC,OAAP;AAAA;;AAAA;;AACE;;;;;;;;;AASA,qCAAYC,QAAZ,EAA2B;AAAA,QAAfA,QAAe;AAAfA,MAAAA,QAAe,GAAJ,EAAI;AAAA;;AAAA;;AACzB;AADyB,6BAGvB;AACEC,MAAAA,aAAa,EAAEN,8BADjB;AAEEO,MAAAA,MAAM,EAAEN,qBAFV;AAGEO,MAAAA,QAAQ,EAAEN;AAHZ,KAHuB,EAQvBH,WAAW,CACT;AACEU,MAAAA,IAAI,EAAE,wBADR;AAEEC,MAAAA,OAAO,EAAE;AACPJ,QAAAA,aAAa,EAAE;AACbK,UAAAA,aAAa,EAAE,EADF;AAEbC,UAAAA,GAAG,EAAE;AAFQ;AADR,OAFX;AAQEC,MAAAA,aAAa,EAAE;AACbL,QAAAA,QAAQ,EAAGM,SAAD,IAAe;AACvB,cAAI,CAACA,SAAS,CAACC,WAAf,EAA4BD,SAAS,CAACC,WAAV,GAAwB,EAAxB;;AAC5B,cAAID,SAAS,CAACE,MAAV,IAAoBF,SAAS,CAACG,IAAlC,EAAwC;AACtCH,YAAAA,SAAS,CAACC,WAAV,CAAsBE,IAAtB,GAA6BH,SAAS,CAACE,MAAvC;AACD;;AACD,iBAAOF,SAAP;AACD;AAPY;AARjB,KADS,EAmBTT,QAnBS,CARY;AA8B1B;;AAxCH;AAAA,EAAyDR,gBAAzD","sourcesContent":["const __SActionsStream = require('../../stream/SActionsStream');\nconst __deepMerge = require('../../object/deepMerge');\nconst __SFsFilesResolverStreamAction = require('../../stream/actions/SFsFilesResolverStreamAction');\nconst __SDocMapStreamAction = require('./actions/SDocMapStreamActions');\nconst __SFsOutputStreamAction = require('../../stream/actions/SFsOutputStreamAction');\n\n/**\n * @name            SBuildDocMapActionsStream\n * @namespace           node.build.docMap\n * @type            Class\n * @extends         SActionsStream\n *\n * This class represent a pre-configured action stream to build easily some javascript files\n *\n * @param           {Object}Â          [settings={}]         The settings object to configure your instance\n *\n * @todo        Document the streamObj required properties\n *\n * @example         js\n * const SBuildDocMapActionsStream = require('@coffeekraken/sugar/node/build/doc/SBuildDocMapActionsStream');\n * const myStream = new SBuildDocMapActionsStream();\n * myStream.start({\n *    input: '...',\n *    output: '...'\n * }).on('resolve', (result) => {\n *    // do something\n * });\n *\n * @since     2.0.0\n * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = class SBuildDocMapActionsStream extends __SActionsStream {\n  /**\n   * @name        constructor\n   * @type        Function\n   * @constructor\n   *\n   * Constructor\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  constructor(settings = {}) {\n    // init actions stream\n    super(\n      {\n        filesResolver: __SFsFilesResolverStreamAction,\n        docMap: __SDocMapStreamAction,\n        fsOutput: __SFsOutputStreamAction\n      },\n      __deepMerge(\n        {\n          name: 'Build docMap.json file',\n          actions: {\n            filesResolver: {\n              ignoreFolders: [],\n              out: 'property'\n            }\n          },\n          beforeActions: {\n            fsOutput: (streamObj) => {\n              if (!streamObj.outputStack) streamObj.outputStack = {};\n              if (streamObj.output && streamObj.data) {\n                streamObj.outputStack.data = streamObj.output;\n              }\n              return streamObj;\n            }\n          }\n        },\n        settings\n      )\n    );\n  }\n};\n"]}
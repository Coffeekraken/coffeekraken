{"version":3,"sources":["moduleAliases.js"],"names":["__moduleAlias","require","__glob","__path","__fs","__packageRoot","module","exports","moduleAliases","rootDir","process","cwd","globPattern","modulePathes","sync","ignore","forEach","path","packageJson","name","folderPath","split","slice","join","addAlias","resolve"],"mappings":";;AAAA,IAAMA,aAAa,GAAGC,OAAO,CAAC,cAAD,CAA7B;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,MAAD,CAAtB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,MAAD,CAAtB;;AACA,IAAMG,IAAI,GAAGH,OAAO,CAAC,IAAD,CAApB;;AACA,IAAMI,aAAa,GAAGJ,OAAO,CAAC,wBAAD,CAA7B;AAEA;;;;;;;;;;;;;;;;AAcAK,MAAM,CAACC,OAAP,GAAiB,SAASC,aAAT,CACfC,OADe,EAEf;AAAA,MADAA,OACA;AADAA,IAAAA,OACA,GADUJ,aAAa,CAACK,OAAO,CAACC,GAAR,EAAD,EAAgB,IAAhB,CACvB;AAAA;;AACA,MAAMC,WAAW,aAAMH,OAAN,uBAAjB;;AAEA,MAAMI,YAAY,GAAGX,MAAM,CAACY,IAAP,CAAYF,WAAZ,EAAyB;AAC5CG,IAAAA,MAAM,EAAE;AADoC,GAAzB,CAArB;;AAIAF,EAAAA,YAAY,CAACG,OAAb,CAAsBC,IAAD,IAAU;AAC7B,QAAMC,WAAW,GAAGjB,OAAO,CAACgB,IAAD,CAA3B;;AACA,QAAME,IAAI,GAAGD,WAAW,CAACC,IAAzB;AACA,QAAMC,UAAU,GAAGH,IAAI,CAACI,KAAL,CAAW,GAAX,EAAgBC,KAAhB,CAAsB,CAAtB,EAAyB,CAAC,CAA1B,EAA6BC,IAA7B,CAAkC,GAAlC,CAAnB;;AACAvB,IAAAA,aAAa,CAACwB,QAAd,CAAuBL,IAAvB,EAA6BhB,MAAM,CAACsB,OAAP,CAAeL,UAAf,CAA7B;AACD,GALD;AAMD,CAfD","sourcesContent":["const __moduleAlias = require('module-alias');\nconst __glob = require('glob');\nconst __path = require('path');\nconst __fs = require('fs');\nconst __packageRoot = require('../../path/packageRoot');\n\n/**\n * @name          moduleAliases\n * @namespace           node.build.js\n * @type          Function\n *\n * This function simply check for all the packages inside the passed rootDir\n * and create an alias for each of them so you can work inside a monorepo\n * on all your packages without having to link them together using a weird trick\n *\n * @param       {String}Â        [rootDir=__packageRoot(process.cwd(), true)]      Specify the root directory to check for packages\n *\n * @since       2.0.0\n * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = function moduleAliases(\n  rootDir = __packageRoot(process.cwd(), true)\n) {\n  const globPattern = `${rootDir}/*/**/package.json`;\n\n  const modulePathes = __glob.sync(globPattern, {\n    ignore: '**/node_modules/**'\n  });\n\n  modulePathes.forEach((path) => {\n    const packageJson = require(path);\n    const name = packageJson.name;\n    const folderPath = path.split('/').slice(0, -1).join('/');\n    __moduleAlias.addAlias(name, __path.resolve(folderPath));\n  });\n};\n"]}
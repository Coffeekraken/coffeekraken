{"version":3,"sources":["SBuildNodeCli.js"],"names":["__SCli","require","__sugarConfig","__deepMerge","__SBuildNodeActionsStream","module","exports","settings","id","name","argsObj","stream","proc","start","input","type","alias","description","default","level","outputDir","map","prod"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AACA,IAAMC,aAAa,GAAGD,OAAO,CAAC,oBAAD,CAA7B;;AACA,IAAME,WAAW,GAAGF,OAAO,CAAC,wBAAD,CAA3B;;AACA,IAAMG,yBAAyB,GAAGH,OAAO,CAAC,2BAAD,CAAzC;AAEA;;;;;;;;;;;;;AAWAI,MAAM,CAACC,OAAP;AAAA;;AAAA;;AACE;;;;;;;;;;AAWA;;;;;;;;;;AAuCA;;;;;;;;;AASA,yBAAYC,QAAZ,EAA2B;AAAA,QAAfA,QAAe;AAAfA,MAAAA,QAAe,GAAJ,EAAI;AAAA;;AAAA;;AAAA,6BAEvBJ,WAAW,CACT;AACEK,MAAAA,EAAE,EAAE,YADN;AAEEC,MAAAA,IAAI,EAAE;AAFR,KADS,EAKTF,QALS,CAFY;AAU1B;;AAtEH;AAAA;AAAA,yBAwEOG,OAxEP,EAwEgBH,QAxEhB,EAwE+B;AAAA,UAAfA,QAAe;AAAfA,QAAAA,QAAe,GAAJ,EAAI;AAAA;;AAC3B,UAAMI,MAAM,GAAG,IAAIP,yBAAJ,EAAf;AACA,UAAMQ,IAAI,GAAGD,MAAM,CAACE,KAAP,CAAaH,OAAb,CAAb;AACA,aAAOE,IAAP;AACD;AA5EH;;AAAA;AAAA,EAA6CZ,MAA7C,sCAUmB,6BAVnB,4CAqByB;AACrBc,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,QADD;AAELC,IAAAA,KAAK,EAAE,GAFF;AAGLC,IAAAA,WAAW,EAAE,0BAHR;AAILC,IAAAA,OAAO,EAAEhB,aAAa,CAAC,kBAAD,CAAb,IAAqC,wBAJzC;AAKLiB,IAAAA,KAAK,EAAE;AALF,GADc;AAQrBC,EAAAA,SAAS,EAAE;AACTL,IAAAA,IAAI,EAAE,QADG;AAETC,IAAAA,KAAK,EAAE,GAFE;AAGTC,IAAAA,WAAW,EAAE,uBAHJ;AAITC,IAAAA,OAAO,EAAEhB,aAAa,CAAC,sBAAD,CAAb,IAAyC,WAJzC;AAKTiB,IAAAA,KAAK,EAAE;AALE,GARU;AAerBE,EAAAA,GAAG,EAAE;AACHN,IAAAA,IAAI,EAAE,SADH;AAEHC,IAAAA,KAAK,EAAE,GAFJ;AAGHC,IAAAA,WAAW,EAAE,2BAHV;AAIHC,IAAAA,OAAO,EAAEhB,aAAa,CAAC,gBAAD,CAJnB;AAKHiB,IAAAA,KAAK,EAAE;AALJ,GAfgB;AAsBrBG,EAAAA,IAAI,EAAE;AACJP,IAAAA,IAAI,EAAE,SADF;AAEJE,IAAAA,WAAW,EAAE,qCAFT;AAGJC,IAAAA,OAAO,EAAEhB,aAAa,CAAC,iBAAD,CAHlB;AAIJiB,IAAAA,KAAK,EAAE;AAJH;AAtBe,CArBzB","sourcesContent":["const __SCli = require('../../cli/SCli');\nconst __sugarConfig = require('../../config/sugar');\nconst __deepMerge = require('../../object/deepMerge');\nconst __SBuildNodeActionsStream = require('./SBuildNodeActionsStream');\n\n/**\n * @name            SBuildNodeCli\n * @namespace           node.build.node\n * @type            Class\n * @extends         SCli\n *\n * This class represent the build Node cli\n *\n * @since       2.0.0\n * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = class SBuildNodeCli extends __SCli {\n  /**\n   * @name          command\n   * @type          String\n   * @static\n   *\n   * Store the command string\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  static command = 'sugar build.node %arguments';\n\n  /**\n   * @name          definitionObj\n   * @type          Object\n   * @static\n   *\n   * Store the definition object\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  static definitionObj = {\n    input: {\n      type: 'String',\n      alias: 'i',\n      description: 'Input files glob pattern',\n      default: __sugarConfig('build.node.input') || 'src/node/*.(js|ts/tsx)',\n      level: 1\n    },\n    outputDir: {\n      type: 'String',\n      alias: 'o',\n      description: 'Output directory path',\n      default: __sugarConfig('build.node.outputDir') || 'dist/node',\n      level: 1\n    },\n    map: {\n      type: 'Boolean',\n      alias: 'm',\n      description: 'Generate a sourcemap file',\n      default: __sugarConfig('build.node.map'),\n      level: 1\n    },\n    prod: {\n      type: 'Boolean',\n      description: 'Generate the production ready files',\n      default: __sugarConfig('build.node.prod'),\n      level: 1\n    }\n  };\n\n  /**\n   * @name          constructor\n   * @type          Function\n   * @constructor\n   *\n   * Constructor\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  constructor(settings = {}) {\n    super(\n      __deepMerge(\n        {\n          id: 'build.node',\n          name: 'Build Node'\n        },\n        settings\n      )\n    );\n  }\n\n  _run(argsObj, settings = {}) {\n    const stream = new __SBuildNodeActionsStream();\n    const proc = stream.start(argsObj);\n    return proc;\n  }\n};\n"]}
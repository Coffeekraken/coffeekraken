{"version":3,"sources":["SJsObjectToScssStreamAction.js"],"names":["__deepMerge","require","__SActionsStreamAction","__jsObjectToScssMap","stream","module","exports","settings","name","id","streamObj","resolve","reject","result","jsObjectToScss","data","type","required"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,2BAAD,CAA3B;;AACA,MAAMC,sBAAsB,GAAGD,OAAO,CAAC,sCAAD,CAAtC;;AACA,MAAME,mBAAmB,GAAGF,OAAO,CAAC,sBAAD,CAAnC;;AACA,MAAM;AAAEG,EAAAA;AAAF,IAAaH,OAAO,CAAC,QAAD,CAA1B;AAEA;;;;;;;;;;;;;;;AAaAI,MAAM,CAACC,OAAP;AAAA;;AAAA;;AACE;;;;;;;;;;AAgBA;;;;;;;;;AASA,uCAAYC,QAAZ,EAA2B;AAAA,QAAfA,QAAe;AAAfA,MAAAA,QAAe,GAAJ,EAAI;AAAA;;AAAA;;AAAA,6BAEvBP,WAAW,CACT;AACEQ,MAAAA,IAAI,EAAE,mBADR;AAEEC,MAAAA,EAAE,EAAE;AAFN,KADS,EAKTF,QALS,CAFY;AAU1B;AAED;;;;;;;;;;;AAtCF;AAAA;AAAA,wBA+CMG,SA/CN,EA+CiBH,QA/CjB,EA+C2B;AACvB,kGAAiBG,SAAjB,EAA4B,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AACrD,cAAMC,MAAM,GAAGV,mBAAmB,CAACO,SAAS,CAACI,cAAX,EAA2BP,QAA3B,CAAlC,CADqD,CAGrD;;;AACA,YAAIG,SAAS,CAACK,IAAd,EAAoBL,SAAS,CAACK,IAAV,GAAiBF,MAAM,GAAGH,SAAS,CAACK,IAApC,CAApB,KACKL,SAAS,CAACK,IAAV,GAAiBF,MAAjB,CALgD,CAOrD;;AACAF,QAAAA,OAAO,CAACD,SAAD,CAAP;AACD,OATD;AAUD;AA1DH;;AAAA;AAAA,EAA2DR,sBAA3D,4CAUyB;AACrBY,EAAAA,cAAc,EAAE;AACdE,IAAAA,IAAI,EAAE,QADQ;AAEdC,IAAAA,QAAQ,EAAE;AAFI;AADK,CAVzB","sourcesContent":["const __deepMerge = require('../../../object/deepMerge');\nconst __SActionsStreamAction = require('../../../stream/SActionsStreamAction');\nconst __jsObjectToScssMap = require('../jsObjectToScssMap');\nconst { stream } = require('globby');\n\n/**\n * @name                SJsObjectToScssStreamAction\n * @namespace           node.build.scss.actions\n * @type                Class\n * @extends             SActionsStreamAction\n *\n * This function is responsible of transform a js object to an scss map\n *\n * @param       {Object}Â        streamObj          The streamObj object with the properties described bellow:\n * @return      {Promise}                         A simple promise that will be resolved when the process is finished\n *\n * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = class SJsObjectToScssStreamAction extends __SActionsStreamAction {\n  /**\n   * @name            definitionObj\n   * @type             Object\n   * @static\n   *\n   * Store the definition object that specify the streamObj required properties, types, etc...\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  static definitionObj = {\n    jsObjectToScss: {\n      type: 'Object',\n      required: true\n    }\n  };\n\n  /**\n   * @name            constructor\n   * @type            Function\n   * @constructor\n   *\n   * Constructor\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  constructor(settings = {}) {\n    super(\n      __deepMerge(\n        {\n          name: 'Js Object to Scss',\n          id: 'actionStream.action.scss.jsObjectToScss'\n        },\n        settings\n      )\n    );\n  }\n\n  /**\n   * @name          run\n   * @type          Function\n   * @async\n   *\n   * Override the base class run method\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  run(streamObj, settings) {\n    return super.run(streamObj, async (resolve, reject) => {\n      const result = __jsObjectToScssMap(streamObj.jsObjectToScss, settings);\n\n      // set or append in the \"data\" property\n      if (streamObj.data) streamObj.data = result + streamObj.data;\n      else streamObj.data = result;\n\n      // resolving the action\n      resolve(streamObj);\n    });\n  }\n};\n"]}
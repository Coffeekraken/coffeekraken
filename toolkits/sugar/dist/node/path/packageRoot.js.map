{"version":3,"sources":["packageRoot.js"],"names":["__findPkgJson","require","module","exports","packageRoot","from","highest","process","cwd","f","file","next","filename","split","slice","join","finalFile","done"],"mappings":";;AAAA,MAAMA,aAAa,GAAGC,OAAO,CAAC,mBAAD,CAA7B;AAEA;;;;;;;;;;;;;;;;;;;;AAkBAC,MAAM,CAACC,OAAP,GAAiB,SAASC,WAAT,CAAqBC,IAArB,EAA2CC,OAA3C,EAA4D;AAAA,MAAvCD,IAAuC;AAAvCA,IAAAA,IAAuC,GAAhCE,OAAO,CAACC,GAAR,EAAgC;AAAA;;AAAA,MAAjBF,OAAiB;AAAjBA,IAAAA,OAAiB,GAAP,KAAO;AAAA;;AAC3E,QAAMG,CAAC,GAAGT,aAAa,CAACK,IAAD,CAAvB;;AACA,MAAIK,IAAI,GAAGD,CAAC,CAACE,IAAF,EAAX;;AAEA,MAAI,CAACL,OAAL,EAAc;AACZ,UAAMM,QAAQ,GAAGF,IAAI,CAACE,QAAL,IAAiB,KAAlC;AACA,QAAI,CAACA,QAAL,EAAe,OAAOA,QAAP;AACf,WAAOA,QAAQ,CAACC,KAAT,CAAe,GAAf,EAAoBC,KAApB,CAA0B,CAA1B,EAA6B,CAAC,CAA9B,EAAiCC,IAAjC,CAAsC,GAAtC,CAAP;AACD;;AAED,MAAIC,SAAJ;;AACA,SAAO,CAACN,IAAI,CAACO,IAAb,EAAmB;AACjB,QAAIP,IAAI,CAACO,IAAT,EAAe;AACfD,IAAAA,SAAS,GAAGN,IAAZ;AACAA,IAAAA,IAAI,GAAGD,CAAC,CAACE,IAAF,EAAP;AACD;;AACD,MAAIK,SAAS,CAACJ,QAAd,EAAwB;AACtB,WAAOI,SAAS,CAACJ,QAAV,CAAmBC,KAAnB,CAAyB,GAAzB,EAA8BC,KAA9B,CAAoC,CAApC,EAAuC,CAAC,CAAxC,EAA2CC,IAA3C,CAAgD,GAAhD,CAAP;AACD;;AACD,SAAO,KAAP;AACD,CApBD","sourcesContent":["const __findPkgJson = require('find-package-json');\n\n/**\n * @name                    packageRoot\n * @namespace           node.path\n * @type                    Function\n *\n * Return the path to either the first finded package root going up the folders, or the highest package root finded\n *\n * @param           {String}              [from=process.cwd()]    Specify from where the research has to be done\n * @param           {Boolean}             [highest=false]         Specify if you want the highest package root or the first finded\n * @return          {String}Â                                      The finded package path or false if not finded\n *\n * @example         js\n * const packageRoot = require('@coffeekraken/sugar/node/path/packageRoot');\n * const root = packageRoot();\n *\n * @see       https://www.npmjs.com/package/find-package-json\n * @author \t\tOlivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = function packageRoot(from = process.cwd(), highest = false) {\n  const f = __findPkgJson(from);\n  let file = f.next();\n\n  if (!highest) {\n    const filename = file.filename || false;\n    if (!filename) return filename;\n    return filename.split('/').slice(0, -1).join('/');\n  }\n\n  let finalFile;\n  while (!file.done) {\n    if (file.done) break;\n    finalFile = file;\n    file = f.next();\n  }\n  if (finalFile.filename) {\n    return finalFile.filename.split('/').slice(0, -1).join('/');\n  }\n  return false;\n};\n"]}
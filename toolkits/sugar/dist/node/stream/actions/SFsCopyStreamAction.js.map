{"version":3,"sources":["SFsCopyStreamAction.js"],"names":["__SActionsStreamAction","require","__ncp","ncp","__deepMerge","module","exports","settings","id","streamObj","_settings","resolve","reject","input","outputDir","e","type","required"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAMA,sBAAsB,GAAGC,OAAO,CAAC,yBAAD,CAAtC;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,KAAD,CAAP,CAAeE,GAA7B;;AACA,MAAMC,WAAW,GAAGH,OAAO,CAAC,wBAAD,CAA3B;AAEA;;;;;;;;;;;;;;;AAaAI,MAAM,CAACC,OAAP;AAAA;;AAAA;;AACE;;;;;;;;;;AAoBA;;;;;;;;;AASA,+BAAYC,QAAZ,EAA2B;AAAA,QAAfA,QAAe;AAAfA,MAAAA,QAAe,GAAJ,EAAI;AAAA;;AAAA;;AAAA,6BAEvBH,WAAW,CACT;AACEI,MAAAA,EAAE,EAAE;AADN,KADS,EAITD,QAJS,CAFY;AAS1B;AAED;;;;;;;;;;;AAzCF;AAAA;AAAA,wBAkDME,SAlDN,EAkDiBF,QAlDjB,EAkD4C;AAAA,UAA3BA,QAA2B;AAA3BA,QAAAA,QAA2B,GAAhB,KAAKG,SAAW;AAAA;;AACxC,0FAAiBD,SAAjB,EAA4B,OAAOE,OAAP,EAAgBC,MAAhB,KAA2B;AACrDV,QAAAA,KAAK,CAACO,SAAS,CAACI,KAAX,EAAkBJ,SAAS,CAACK,SAA5B,EAAwCC,CAAD,IAAO;AACjD,cAAIA,CAAJ,EAAO,OAAOH,MAAM,CAACG,CAAD,CAAb;AACPJ,UAAAA,OAAO,CAACF,SAAD,CAAP;AACD,SAHI,CAAL;AAID,OALD;AAMD;AAzDH;;AAAA;AAAA,EAAmDT,sBAAnD,4CAUyB;AACrBa,EAAAA,KAAK,EAAE;AACLG,IAAAA,IAAI,EAAE,QADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GADc;AAKrBH,EAAAA,SAAS,EAAE;AACTE,IAAAA,IAAI,EAAE,QADG;AAETC,IAAAA,QAAQ,EAAE;AAFD;AALU,CAVzB","sourcesContent":["const __SActionsStreamAction = require('../SActionsStreamAction');\nconst __ncp = require('ncp').ncp;\nconst __deepMerge = require('../../object/deepMerge');\n\n/**\n * @name            SFsCopyStreamAction\n * @namespace           node.stream.actions\n * @type            Class\n * @extends         SActionsStreamAction\n *\n * This class is a stream action that allows you to copy some files or folders from one location to another\n *\n * @param       {Object}Â        streamObj          The streamObj object with the properties described bellow:\n * @return      {Promise}                         A simple promise that will be resolved when the process is finished\n *\n * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nmodule.exports = class SFsCopyStreamAction extends __SActionsStreamAction {\n  /**\n   * @name            definitionObj\n   * @type             Object\n   * @static\n   *\n   * Store the definition object that specify the streamObj required properties, types, etc...\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  static definitionObj = {\n    input: {\n      type: 'String',\n      required: true\n    },\n    outputDir: {\n      type: 'String',\n      required: true\n    }\n  };\n\n  /**\n   * @name            constructor\n   * @type            Function\n   * @constructor\n   *\n   * Constructor\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  constructor(settings = {}) {\n    super(\n      __deepMerge(\n        {\n          id: 'actionStream.action.fs.copy'\n        },\n        settings\n      )\n    );\n  }\n\n  /**\n   * @name          run\n   * @type          Function\n   * @async\n   *\n   * Override the base class run method\n   *\n   * @author    Olivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n   */\n  run(streamObj, settings = this._settings) {\n    return super.run(streamObj, async (resolve, reject) => {\n      __ncp(streamObj.input, streamObj.outputDir, (e) => {\n        if (e) return reject(e);\n        resolve(streamObj);\n      });\n    });\n  }\n};\n"]}
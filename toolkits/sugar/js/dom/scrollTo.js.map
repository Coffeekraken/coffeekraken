{
    "version": 3,
    "sources": [
        "scrollTo.js"
    ],
    "names": [
        "isUserScrolling",
        "userScrollingTimeout",
        "isScrollingHappening",
        "document",
        "addEventListener",
        "e",
        "clearTimeout",
        "setTimeout",
        "scrollTo",
        "target",
        "duration",
        "easing",
        "offset",
        "align",
        "onFinish",
        "easeInOutQuad",
        "docElem",
        "documentElement",
        "windowHeight",
        "clientHeight",
        "maxScroll",
        "window",
        "scrollMaxY",
        "scrollHeight",
        "currentY",
        "pageYOffset",
        "targetY",
        "elementBounds",
        "isNaN",
        "getBoundingClientRect",
        "top",
        "height",
        "bottom",
        "Math",
        "max",
        "min",
        "deltaY",
        "obj",
        "startTime",
        "Date",
        "now",
        "lastY",
        "step",
        "bind",
        "t",
        "y",
        "scrollX"
    ],
    "mappings": ";;;;;;;AAAA;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;AAqBA,IAAIA,eAAe,GAAG,KAAtB;AACA,IAAIC,oBAAJ;AACA,IAAIC,oBAAoB,GAAG,KAA3B;AACAC,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAyCC,CAAD,IAAO;AAC7C,MAAI,CAACH,oBAAL,EAA2B;AAC3BF,EAAAA,eAAe,GAAG,IAAlB;AACAM,EAAAA,YAAY,CAACL,oBAAD,CAAZ;AACAA,EAAAA,oBAAoB,GAAGM,UAAU,CAAC,MAAM;AACtCP,IAAAA,eAAe,GAAG,KAAlB;AACD,GAFgC,EAE9B,GAF8B,CAAjC;AAGD,CAPD;;AASA,SAASQ,QAAT,CACEC,MADF,EAEEC,QAFF,EAGEC,MAHF,EAIEC,MAJF,EAKEC,KALF,EAMEC,QANF,EAOE;AAAA,MALAJ,QAKA;AALAA,IAAAA,QAKA,GALW,IAKX;AAAA;;AAAA,MAJAC,MAIA;AAJAA,IAAAA,MAIA,GAJSI,sBAIT;AAAA;;AAAA,MAHAH,MAGA;AAHAA,IAAAA,MAGA,GAHS,CAGT;AAAA;;AAAA,MAFAC,KAEA;AAFAA,IAAAA,KAEA,GAFQ,KAER;AAAA;;AAAA,MADAC,QACA;AADAA,IAAAA,QACA,GADW,IACX;AAAA;;AACA,MAAIE,OAAO,GAAGb,QAAQ,CAACc,eAAvB,CADA,CACwC;;AACxC,MAAIC,YAAY,GAAGF,OAAO,CAACG,YAA3B;AACA,MAAIC,SAAS,GACX,gBAAgBC,MAAhB,GACIA,MAAM,CAACC,UADX,GAEIN,OAAO,CAACO,YAAR,GAAuBL,YAH7B;AAIA,MAAIM,QAAQ,GAAGH,MAAM,CAACI,WAAtB;AAEAvB,EAAAA,oBAAoB,GAAG,IAAvB;AAEA,MAAIwB,OAAO,GAAGF,QAAd;AACA,MAAIG,aAAa,GAAGC,KAAK,CAACnB,MAAD,CAAL,GAAgBA,MAAM,CAACoB,qBAAP,EAAhB,GAAiD,CAArE;;AAEA,MAAIhB,KAAK,KAAK,QAAd,EAAwB;AACtBa,IAAAA,OAAO,IAAIC,aAAa,CAACG,GAAd,GAAoBH,aAAa,CAACI,MAAd,GAAuB,CAAtD;AACAL,IAAAA,OAAO,IAAIR,YAAY,GAAG,CAA1B;AACAQ,IAAAA,OAAO,IAAId,MAAX;AACD,GAJD,MAIO,IAAIC,KAAK,KAAK,QAAd,EAAwB;AAC7Ba,IAAAA,OAAO,IAAIC,aAAa,CAACK,MAAzB;AACAN,IAAAA,OAAO,IAAIR,YAAX;AACAQ,IAAAA,OAAO,IAAId,MAAX;AACD,GAJM,MAIA;AACL;AACAc,IAAAA,OAAO,IAAIC,aAAa,CAACG,GAAzB;AACAJ,IAAAA,OAAO,IAAId,MAAX;AACD;;AACDc,EAAAA,OAAO,GAAGO,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASf,SAAT,EAAoBM,OAApB,CAAT,EAAuC,CAAvC,CAAV;AAEA,MAAIU,MAAM,GAAGV,OAAO,GAAGF,QAAvB;AAEA,MAAIa,GAAG,GAAG;AACRX,IAAAA,OAAO,EAAEA,OADD;AAERU,IAAAA,MAAM,EAAEA,MAFA;AAGR1B,IAAAA,QAAQ,EAAEA,QAHF;AAIRC,IAAAA,MAAM,EAAEA,MAJA;AAKRG,IAAAA,QAAQ,EAAEA,QALF;AAMRwB,IAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL,EANH;AAORC,IAAAA,KAAK,EAAEjB,QAPC;AAQRkB,IAAAA,IAAI,EAAElC,QAAQ,CAACkC;AARP,GAAV;AAUA,sCAAsBL,GAAG,CAACK,IAAJ,CAASC,IAAT,CAAcN,GAAd,CAAtB;AACD;;AAED7B,QAAQ,CAACkC,IAAT,GAAgB,YAAY;AAC1B,MAAI,KAAKD,KAAL,KAAepB,MAAM,CAACI,WAAtB,IAAqC,KAAKX,QAA9C,EAAwD;AACtDZ,IAAAA,oBAAoB,GAAG,KAAvB;AACA,SAAKY,QAAL;AACA;AACD,GALyB,CAO1B;;;AACA,MAAI8B,CAAC,GAAGX,IAAI,CAACE,GAAL,CAAS,CAACI,IAAI,CAACC,GAAL,KAAa,KAAKF,SAAnB,IAAgC,KAAK5B,QAA9C,EAAwD,CAAxD,CAAR,CAR0B,CAU1B;;AACA,MAAImC,CAAC,GAAG,KAAKnB,OAAL,GAAe,CAAC,IAAI,KAAKf,MAAL,CAAYiC,CAAZ,CAAL,IAAuB,KAAKR,MAAnD;AACAf,EAAAA,MAAM,CAACb,QAAP,CAAgBa,MAAM,CAACyB,OAAvB,EAAgCD,CAAhC,EAZ0B,CAc1B;;AACA,MAAID,CAAC,KAAK,CAAN,IAAW,CAAC5C,eAAhB,EAAiC;AAC/B,SAAKyC,KAAL,GAAapB,MAAM,CAACI,WAApB;AACA,wCAAsB,KAAKiB,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAtB;AACD,GAHD,MAGO;AACLzC,IAAAA,oBAAoB,GAAG,KAAvB;AACA,QAAI,KAAKY,QAAT,EAAmB,KAAKA,QAAL;AACpB;AACF,CAtBD;;eAwBeN,Q",
    "sourcesContent": [
        "import easeInOutQuad from '../easing/easeInOutQuad';\nimport requestAnimationFrame from './requestAnimationFrame';\n/**\n * @name      scrollTo\n * @namespace           sugar.js.dom\n * @type      Function\n *\n * Function that let you make a smooth page scroll to a specific element in the page\n *\n * @param \t\t{HTMLElement} \t\t\t\ttarget \t\t\tThe element to scroll to\n * @param \t\t{Number} \t\t\t\t\t[duration=1000] \t\tThe animation duration\n * @param \t\t{Function} \t\t\t\t\t[easing=easeInOutQuad] \t\t\tAn easing Function\n * @param \t\t{Number} \t\t\t\t\t[offset=0] \t\t\tThe destination offset\n * @param \t\t{String} \t\t\t\t\t[align='top'] \t\t\tThe destination align (top, center, bottom)\n * @param \t\t{Function} \t\t\t\t\t[onFinish=null] \t\tA callback to call when the animation if finished\n *\n * @example \tjs\n * import scrollTop from '@coffeekraken/sugar/js/dom/scrollTo'\n * import easeInOutQuad from '@coffeekraken/sugar/js/easings/easeInOutQuad'\n * scrollTo(myCoolHTMLElement);\n *\n * @author \t\tOlivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nlet isUserScrolling = false;\nlet userScrollingTimeout;\nlet isScrollingHappening = false;\ndocument.addEventListener('mousewheel', (e) => {\n  if (!isScrollingHappening) return;\n  isUserScrolling = true;\n  clearTimeout(userScrollingTimeout);\n  userScrollingTimeout = setTimeout(() => {\n    isUserScrolling = false;\n  }, 200);\n});\n\nfunction scrollTo(\n  target,\n  duration = 1000,\n  easing = easeInOutQuad,\n  offset = 0,\n  align = 'top',\n  onFinish = null\n) {\n  var docElem = document.documentElement; // to facilitate minification better\n  var windowHeight = docElem.clientHeight;\n  var maxScroll =\n    'scrollMaxY' in window\n      ? window.scrollMaxY\n      : docElem.scrollHeight - windowHeight;\n  var currentY = window.pageYOffset;\n\n  isScrollingHappening = true;\n\n  var targetY = currentY;\n  var elementBounds = isNaN(target) ? target.getBoundingClientRect() : 0;\n\n  if (align === 'center') {\n    targetY += elementBounds.top + elementBounds.height / 2;\n    targetY -= windowHeight / 2;\n    targetY -= offset;\n  } else if (align === 'bottom') {\n    targetY += elementBounds.bottom;\n    targetY -= windowHeight;\n    targetY += offset;\n  } else {\n    // top, undefined\n    targetY += elementBounds.top;\n    targetY -= offset;\n  }\n  targetY = Math.max(Math.min(maxScroll, targetY), 0);\n\n  var deltaY = targetY - currentY;\n\n  var obj = {\n    targetY: targetY,\n    deltaY: deltaY,\n    duration: duration,\n    easing: easing,\n    onFinish: onFinish,\n    startTime: Date.now(),\n    lastY: currentY,\n    step: scrollTo.step\n  };\n  requestAnimationFrame(obj.step.bind(obj));\n}\n\nscrollTo.step = function () {\n  if (this.lastY !== window.pageYOffset && this.onFinish) {\n    isScrollingHappening = false;\n    this.onFinish();\n    return;\n  }\n\n  // Calculate how much time has passed\n  var t = Math.min((Date.now() - this.startTime) / this.duration, 1);\n\n  // Scroll window amount determined by easing\n  var y = this.targetY - (1 - this.easing(t)) * this.deltaY;\n  window.scrollTo(window.scrollX, y);\n\n  // Continue animation as long as duration hasn't surpassed\n  if (t !== 1 && !isUserScrolling) {\n    this.lastY = window.pageYOffset;\n    requestAnimationFrame(this.step.bind(this));\n  } else {\n    isScrollingHappening = false;\n    if (this.onFinish) this.onFinish();\n  }\n};\n\nexport default scrollTo;\n"
    ]
}
{
    "version": 3,
    "sources": [
        "SError.js"
    ],
    "names": [
        "SError",
        "message",
        "split",
        "filter",
        "line",
        "trim",
        "slice",
        "join",
        "Error",
        "captureStackTrace",
        "constructor",
        "stack",
        "packageRoot",
        "stackArray",
        "l",
        "forEach",
        "push",
        "replace",
        "name",
        "displayed",
        "Object",
        "defineProperty",
        "get",
        "set",
        "value",
        "_stack"
    ],
    "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;IAIqBA,M;;;;;AACnB,kBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACnB;AACAA,IAAAA,OAAO,GAAGA,OAAO,CACdC,KADO,CACD,IADC,EAEPC,MAFO,CAECC,IAAD,IAAU;AAChB,UAAIA,IAAI,CAACC,IAAL,GAAYC,KAAZ,CAAkB,CAAlB,EAAqB,EAArB,MAA6B,YAAjC,EAA+C,OAAO,KAAP;AAC/C,UAAIF,IAAI,CAACC,IAAL,GAAYC,KAAZ,CAAkB,CAAlB,EAAqB,CAArB,MAA4B,KAAhC,EAAuC,OAAO,KAAP;AACvC,aAAO,IAAP;AACD,KANO,EAOPC,IAPO,CAOF,IAPE,CAAV;AASA,8BAAMN,OAAN;AACAO,IAAAA,KAAK,CAACC,iBAAN,gCAA8B,MAAKC,WAAnC;AAEA,QAAMC,KAAK,GAAG,EAAd;AACA,QAAMC,WAAW,GAAG,2BAApB;;AACA,QAAMC,UAAU,GAAG,MAAKF,KAAL,CAAWT,KAAX,CAAiB,MAAjB,EAAyBI,KAAzB,CAA+B,CAA/B,CAAnB;;AACAO,IAAAA,UAAU,CACPV,MADH,CACWW,CAAD,IAAO;AACb,UAAIA,CAAC,CAACT,IAAF,OAAa,OAAjB,EAA0B,OAAO,KAAP;AAC1B,UAAIS,CAAC,CAACT,IAAF,OAAa,EAAjB,EAAqB,OAAO,KAAP;AACrB,aAAO,IAAP;AACD,KALH,EAMGU,OANH,CAMYD,CAAD,IAAO;AACd,UAAIA,CAAC,CAACT,IAAF,OAAa,EAAjB,EAAqB;AACrBM,MAAAA,KAAK,CAACK,IAAN,wCAC6BF,CAAC,CAACG,OAAF,CAAUL,WAAV,EAAuB,EAAvB,CAD7B;AAGD,KAXH;AAaA,UAAKM,IAAL,GAAY,MAAKR,WAAL,CAAiBQ,IAA7B;AACA,UAAKjB,OAAL,GAAe,wBACb,0DACkB,MAAKiB,IAAL,IAAa,MAAKR,WAAL,CAAiBQ,IADhD,yCAGEjB,OAHF,uBAKEU,KAAK,CAACJ,IAAN,CAAW,EAAX,CALF,YADa,CAAf;AAUA,QAAIY,SAAS,GAAG,KAAhB;AACAC,IAAAA,MAAM,CAACC,cAAP,gCAA4B,OAA5B,EAAqC;AACnCC,MAAAA,GAAG,EAAE,eAAY;AACf,YAAIH,SAAJ,EAAe,OAAO,EAAP;AACfA,QAAAA,SAAS,GAAG,IAAZ;AACA,eAAO,KAAKlB,OAAZ;AACD,OALkC;AAMnCsB,MAAAA,GAAG,EAAE,aAAUC,KAAV,EAAiB;AACpB,aAAKC,MAAL,GAAcD,KAAd;AACD;AARkC,KAArC;AAUA,UAAKb,KAAL,GAAa,wBAAY,wBAAYA,KAAK,CAACJ,IAAN,CAAW,EAAX,CAAZ,CAAZ,CAAb,CApDmB,CAsDnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AApFmB;AAqFpB,G,CAED;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;;;iCAzGkCC,K",
    "sourcesContent": [
        "import __parseHtml from '../console/parseHtml';\nimport __trimLines from '../string/trimLines.js';\nimport __packageRoot from '../path/packageRoot';\nimport __toString from '../string/toString';\n\n/**\n * @todo    Doc\n */\n\nexport default class SError extends Error {\n  constructor(message) {\n    // filter message for integrated stack\n    message = message\n      .split('\\n')\n      .filter((line) => {\n        if (line.trim().slice(0, 10) === 'Thrown at:') return false;\n        if (line.trim().slice(0, 3) === 'at ') return false;\n        return true;\n      })\n      .join('\\n');\n\n    super(message);\n    Error.captureStackTrace(this, this.constructor);\n\n    const stack = [];\n    const packageRoot = __packageRoot();\n    const stackArray = this.stack.split(' at ').slice(1);\n    stackArray\n      .filter((l) => {\n        if (l.trim() === 'Error') return false;\n        if (l.trim() === '') return false;\n        return true;\n      })\n      .forEach((l) => {\n        if (l.trim() === '') return;\n        stack.push(\n          `<cyan>â”‚</cyan> at <cyan>${l.replace(packageRoot, '')}</cyan>`\n        );\n      });\n\n    this.name = this.constructor.name;\n    this.message = __trimLines(\n      __parseHtml(`\n      <red><underline>${this.name || this.constructor.name}</underline></red>\n\n      ${message}\n\n      ${stack.join('')}\n    `)\n    );\n\n    let displayed = false;\n    Object.defineProperty(this, 'stack', {\n      get: function () {\n        if (displayed) return '';\n        displayed = true;\n        return this.message;\n      },\n      set: function (value) {\n        this._stack = value;\n      }\n    });\n    this.stack = __trimLines(__parseHtml(stack.join('')));\n\n    // if (typeof message === 'object') {\n    //   if (message.syscall) this.syscall = message.syscall;\n    //   if (message.code) this.code = message.code;\n    //   if (message.property) this.property = message.property;\n    //   if (message.message) this.message = message.message;\n    //   if (message.name) this.name = message.name;\n    //   if (message.stack) this.stack = message.stack;\n    // } else if (typeof message !== 'string') {\n    //   this.message = __trimLines(message.toString());\n    //   this.name = this.constructor.name;\n    //   this.stack = message.stack || [];\n    //   this.code = message.code || null;\n    //   this.property = message.property || null;\n    //   this.syscall = message.syscall || null;\n    // } else {\n    //   this.message = __toString(message);\n    // }\n\n    // this.message = __trimLines(\n    //   __parseHtml(`\n    //   <red><underline>${this.name || this.constructor.name}</underline></red>\n\n    //   ${this.message}\n    // `)\n    // );\n\n    // if (this.stack) {\n    //\n    //   // this.message += '\\n' + );\n    //   // this.stack = null;\n    // }\n  }\n\n  // inspect() {\n  //   return this.toString();\n  // }\n\n  // toString() {\n  //   // if (this.message.match(/___$/gm)) return this.message;\n  //   return 'rpl';\n  //   const string = __trimLines(\n  //     __parseHtml(`\n  //     <red><underline>${this.constructor.name}</underline></red>\n\n  //     ${this.message}\n\n  //     ${this._stackString}\n  //   `)\n  //   );\n  //   return string + '___';\n  // }\n}\n"
    ]
}
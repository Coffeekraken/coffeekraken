{
    "version": 3,
    "sources": [
        "imagesLoadedAttribute.js"
    ],
    "names": [
        "document",
        "addEventListener",
        "e",
        "target",
        "tagName",
        "toLowerCase",
        "hasAttribute",
        "setAttribute",
        "forEach",
        "call",
        "querySelectorAll",
        "img",
        "then"
    ],
    "mappings": ";;AAgBA;;;;AAhBA;;;;;;;;;;;;;AAcA;AAGAA,QAAQ,CAACC,gBAAT,CACE,MADF,EAEGC,CAAD,IAAO;AACL,MAAI,CAACA,CAAC,CAACC,MAAF,CAASC,OAAd,EAAuB;AACvB,MAAIF,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,WAAjB,OAAmC,KAAvC,EAA8C;AAC9C,MAAIH,CAAC,CAACC,MAAF,CAASG,YAAT,CAAsB,QAAtB,CAAJ,EAAqC;AACrCJ,EAAAA,CAAC,CAACC,MAAF,CAASI,YAAT,CAAsB,QAAtB,EAAgC,IAAhC;AACD,CAPH,EAQE,IARF;AAUA,GAAGC,OAAH,CAAWC,IAAX,CAAgBT,QAAQ,CAACU,gBAAT,CAA0B,KAA1B,CAAhB,EAAmDC,GAAD,IAAS;AACzD,4BAAcA,GAAd,EAAmBC,IAAnB,CAAyBD,GAAD,IAAS;AAC/B,QAAIA,GAAG,CAACL,YAAJ,CAAiB,QAAjB,CAAJ,EAAgC;AAChCK,IAAAA,GAAG,CAACJ,YAAJ,CAAiB,QAAjB,EAA2B,IAA3B;AACD,GAHD;AAID,CALD",
    "sourcesContent": [
        "/**\n * @name \t\timagesLoadedAttribute\n * @namespace           sugar.js.feature\n * @type      Feature\n *\n * Add on every images the attribute \"loaded\" when it has been fully loaded. This is useful\n * for styling purposes and for others thinks as well.\n *\n * @example \tjs\n * import '@coffeekraken/sugar/js/feature/imagesLoadedAttribute'\n *\n * @author \t\tOlivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\n\n// TODO tests\n\nimport __imageLoaded from '../dom/imageLoaded';\ndocument.addEventListener(\n  'load',\n  (e) => {\n    if (!e.target.tagName) return;\n    if (e.target.tagName.toLowerCase() !== 'img') return;\n    if (e.target.hasAttribute('loaded')) return;\n    e.target.setAttribute('loaded', true);\n  },\n  true\n);\n[].forEach.call(document.querySelectorAll('img'), (img) => {\n  __imageLoaded(img).then((img) => {\n    if (img.hasAttribute('loaded')) return;\n    img.setAttribute('loaded', true);\n  });\n});\n"
    ]
}
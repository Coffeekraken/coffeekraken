{
    "version": 3,
    "sources": [
        "innerHtml.js"
    ],
    "names": [
        "innerHtml",
        "node",
        "content",
        "settings",
        "Promise",
        "resolve",
        "reject",
        "action",
        "animIn",
        "animOut",
        "animInDuration",
        "animOutDuration",
        "animInDistance",
        "animOutDistance",
        "animInEasing",
        "animOutEasing",
        "_uniqid",
        "_animInClassName",
        "_animOutClassName",
        "$styleAnimIn",
        "$styleAnimOut",
        "$div",
        "sheetAnimIn",
        "sheetAnimInFadeUp",
        "sheetAnimInFadeDown",
        "sheetAnimInFadeLeft",
        "sheetAnimInFadeRight",
        "sheetAnimOutFade",
        "sheetAnimOutFadeUp",
        "sheetAnimOutFadeDown",
        "sheetAnimOutFadeLeft",
        "sheetAnimOutFadeRight",
        "classList",
        "add",
        "setTimeout",
        "remove",
        "innerHTML",
        "append",
        "parentNode",
        "removeChild",
        "document",
        "createElement",
        "appendChild",
        "insertBefore",
        "firstChild"
    ],
    "mappings": "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",
    "sourcesContent": [
        "import __uniqid from '../string/uniqid';\nimport __injectStyle from '../css/injectStyle';\nimport __emptyNode from './emptyNode';\nimport __convert from '../time/convert';\n\n// TODO tests\n\n/**\n * @name            innerHtml\n * @namespace           sugar.js.dom\n * @type            Function\n *\n * Change the content of a Node with the possibility to animate the change using one of these animations:\n * - fade\n * - fadeUp\n * - fadeDown\n * - fadeLeft\n * - fadeRight\n * You can also choose between 3 actions which are: replace, append and prepend\n *\n * @param           {HTMLElement}            node           The node to change to content of\n * @param           {String}                 content        The new content of the node\n * @param           {Object}                 [settings={}]  The settings to change the content like 'animIn', 'animOut', and more...\n * @return          {Promise}                               A promise resolved when the change has been made\n *\n * @example       js\n * import innerHtml from '@coffeekraken/sugar/js/dom/innerHtml'\n * innerHtml(myCoolNode, 'Hello World', {\n *    action: 'replace', // replace, append, prepend\n *    animIn: 'fade', // fade, fadeUp, fadeDown, fadeLeft, fadeRight\n *    animOut: 'fadeUp', // fade, fadeUp, fadeDown, fadeLeft, fadeRight\n *    animInDuration: 600, // in ms if number, otherwise a string like '1s', '1m', etc...\n *    animOutDuration: 300, // in ms if number, otherwise a string like '1s', '1m', etc...\n *    animInDistance: 25, // in px\n *    animOutDistance: 25, // in px\n *    animInEasing: 'ease-in-out',\n *    animOutEasing: 'ease-in-out'\n * }).then(() => {\n *    // do something when the change has been made...\n * });\n *\n * @author \t\tOlivier Bossel <olivier.bossel@gmail.com> (https://olivierbossel.com)\n */\nexport default function innerHtml(node, content, settings = {}) {\n  return new Promise((resolve, reject) => {\n    // process the settings\n    settings = {\n      action: 'replace',\n      animIn: 'fade',\n      animOut: 'fade',\n      animInDuration: 300,\n      animOutDuration: 150,\n      animInDistance: 25,\n      animOutDistance: 25,\n      animInEasing: 'ease-in-out',\n      animOutEasing: 'ease-in-out',\n      ...settings\n    };\n    settings.animInDuration = __convert(settings.animInDuration, 'ms');\n    settings.animOutDuration = __convert(settings.animOutDuration, 'ms');\n\n    // generate a uniqid for this process\n    const _uniqid = __uniqid();\n    const _animInClassName = `s-innerHtml-animIn-${_uniqid}`;\n    const _animOutClassName = `s-innerHtml-animOut-${_uniqid}`;\n\n    // some html elements references\n    let $styleAnimIn, $styleAnimOut, $div;\n\n    // generate the animation styles\n    switch (settings.animIn) {\n      case 'fade':\n        const sheetAnimIn = `\n          @keyframes animIn-${_uniqid} {\n            from {\n              opacity: 0;\n            }\n            to {\n              opacity: 1;\n            }\n          }\n          .${_animInClassName} {\n              animation: animIn-${_uniqid} ${settings.animInDuration}ms ${settings.animInEasing};\n          }\n        `;\n        $styleAnimIn = __injectStyle(sheetAnimIn);\n        break;\n      case 'fadeDown':\n        const sheetAnimInFadeUp = `\n          @keyframes animIn-${_uniqid} {\n            from {\n              opacity: 0;\n              transform: translateY(-${settings.animInDistance}px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          .${_animInClassName} {\n              animation: animIn-${_uniqid} ${settings.animInDuration}ms ${settings.animInEasing};\n          }\n        `;\n        $styleAnimIn = __injectStyle(sheetAnimInFadeUp);\n        break;\n      case 'fadeUp':\n        const sheetAnimInFadeDown = `\n          @keyframes animIn-${_uniqid} {\n            from {\n              opacity: 0;\n              transform: translateY(${settings.animInDistance}px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          .${_animInClassName} {\n              animation: animIn-${_uniqid} ${settings.animInDuration}ms ${settings.animInEasing};\n          }\n        `;\n        $styleAnimIn = __injectStyle(sheetAnimInFadeDown);\n        break;\n      case 'fadeRight':\n        const sheetAnimInFadeLeft = `\n          @keyframes animIn-${_uniqid} {\n            from {\n              opacity: 0;\n              transform: translateX(-${settings.animInDistance}px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          .${_animInClassName} {\n              animation: animIn-${_uniqid} ${settings.animInDuration}ms ${settings.animInEasing};\n          }\n        `;\n        $styleAnimIn = __injectStyle(sheetAnimInFadeLeft);\n        break;\n      case 'fadeLeft':\n        const sheetAnimInFadeRight = `\n          @keyframes animIn-${_uniqid} {\n            from {\n              opacity: 0;\n              transform: translateX(${settings.animInDistance}px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          .${_animInClassName} {\n              animation: animIn-${_uniqid} ${settings.animInDuration}ms ${settings.animInEasing};\n          }\n        `;\n        $styleAnimIn = __injectStyle(sheetAnimInFadeRight);\n        break;\n    }\n    switch (settings.animOut) {\n      case 'fade':\n        const sheetAnimOutFade = `\n          @keyframes animOut-${_uniqid} {\n            0% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0;\n            }\n          }\n          .${_animOutClassName} {\n            animation: animOut-${_uniqid} ${settings.animOutDuration}ms ${settings.animOutEasing};\n          }\n        `;\n        $styleAnimOut = __injectStyle(sheetAnimOutFade);\n        break;\n      case 'fadeUp':\n        const sheetAnimOutFadeUp = `\n          @keyframes animOut-${_uniqid} {\n            from {\n              opacity: 1;\n              transform: translateY(0);\n            }\n            to {\n              opacity: 0;\n              transform: translateY(-${settings.animOutDistance}px);\n            }\n          }\n          .${_animOutClassName} {\n              animation: animOut-${_uniqid} ${settings.animOutDuration}ms ${settings.animOutEasing};\n          }\n        `;\n        $styleAnimOut = __injectStyle(sheetAnimOutFadeUp);\n        break;\n      case 'fadeDown':\n        const sheetAnimOutFadeDown = `\n          @keyframes animOut-${_uniqid} {\n            from {\n              opacity: 1;\n              transform: translateY(0);\n            }\n            to {\n              opacity: 0;\n              transform: translateY(${settings.animOutDistance}px);\n            }\n          }\n          .${_animOutClassName} {\n              animation: animOut-${_uniqid} ${settings.animOutDuration}ms ${settings.animOutEasing};\n          }\n        `;\n        $styleAnimOut = __injectStyle(sheetAnimOutFadeDown);\n        break;\n      case 'fadeLeft':\n        const sheetAnimOutFadeLeft = `\n          @keyframes animOut-${_uniqid} {\n            from {\n              opacity: 1;\n              transform: translateX(0);\n            }\n            to {\n              opacity: 0;\n              transform: translateX(-${settings.animOutDistance}px);\n            }\n          }\n          .${_animOutClassName} {\n              animation: animOut-${_uniqid} ${settings.animOutDuration}ms ${settings.animOutEasing};\n          }\n        `;\n        $styleAnimOut = __injectStyle(sheetAnimOutFadeLeft);\n        break;\n      case 'fadeRight':\n        const sheetAnimOutFadeRight = `\n          @keyframes animOut-${_uniqid} {\n            from {\n              opacity: 1;\n              transform: translateX(0);\n            }\n            to {\n              opacity: 0;\n              transform: translateX(${settings.animOutDistance}px);\n            }\n          }\n          .${_animOutClassName} {\n              animation: animOut-${_uniqid} ${settings.animOutDuration}ms ${settings.animOutEasing};\n          }\n        `;\n        $styleAnimOut = __injectStyle(sheetAnimOutFadeRight);\n        break;\n    }\n\n    // switch on the action to execute\n    switch (settings.action) {\n      case 'replace':\n        // anim out the content by adding the corresponding class\n        node.classList.add(_animOutClassName);\n\n        // waiting the animation out to be finished\n        setTimeout(() => {\n          // removing the animation out class\n          node.classList.remove(_animOutClassName);\n\n          // change the content\n          if (typeof content === 'string') {\n            node.innerHTML = content;\n          } else {\n            __emptyNode(node).append(content);\n          }\n\n          // anim in the content by adding the corresponding class\n          node.classList.add(_animInClassName);\n\n          // wait until the animation is finished to resolve the promise\n          setTimeout(() => {\n            resolve();\n\n            // removing the classes\n            node.classList.remove(_animInClassName);\n\n            // removing the styles elements\n            $styleAnimIn.parentNode.removeChild($styleAnimIn);\n            $styleAnimOut.parentNode.removeChild($styleAnimOut);\n          }, settings.animInDuration);\n        }, settings.animOutDuration);\n        break;\n      case 'append':\n        // append the new content inside a simple div to animate it\n        $div = document.createElement('div');\n        $div.classList.add(_animInClassName);\n        if (typeof content === 'string') {\n          $div.innerHTML = content;\n        } else {\n          $div.append(content);\n        }\n\n        // append the content\n        node.appendChild($div);\n\n        // wait until the animation is finished to resolve the promise\n        setTimeout(() => {\n          resolve();\n\n          // removing the classes\n          $div.classList.remove(_animInClassName);\n\n          // removing the styles elements\n          $styleAnimIn.parentNode.removeChild($styleAnimIn);\n          $styleAnimOut.parentNode.removeChild($styleAnimOut);\n        }, settings.animInDuration);\n\n        break;\n      case 'prepend':\n        // append the new content inside a simple div to animate it\n        $div = document.createElement('div');\n        $div.classList.add(_animInClassName);\n        if (typeof content === 'string') {\n          $div.innerHTML = content;\n        } else {\n          $div.append(content);\n        }\n\n        // append the content\n        node.insertBefore($div, node.firstChild);\n\n        // wait until the animation is finished to resolve the promise\n        setTimeout(() => {\n          resolve();\n\n          // removing the classes\n          $div.classList.remove(_animInClassName);\n\n          // removing the styles elements\n          $styleAnimIn.parentNode.removeChild($styleAnimIn);\n          $styleAnimOut.parentNode.removeChild($styleAnimOut);\n        }, settings.animInDuration);\n\n        break;\n    }\n  });\n}\n"
    ]
}